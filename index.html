<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="A lightweight java framework designed for building efficient and scalable applications. Supports both command-line tools and APIs, enabling developers to create robust solutions with ease.">
    <meta name="keywords" content="java, framework, lightweight, command-line, web, applications, tinystruct">
    <meta name="author" content="James ZHOU">
    <meta name="favicon" content="https://avatars.githubusercontent.com/u/3723144?s=48&v=4">
    <title>tinystruct framework - v1.7.0</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <style>
        :root {
            --background: #f5f5f5;
            --text: #000000;
        }

        /* General Styles */
        body {
            font-family: 'Roboto', Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--background);
            color: var(--text);
            transition: background-color 0.3s, color 0.3s;
        }

        /* Navigation Bar */
        nav {
            position: sticky;
            top: 0;
            background-color: #986ce8;
            color: #fff;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        nav h1 {
            margin: 0;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            color: #f5f5f5;
        }

        nav img {
            margin-right: 0.5rem;
            height: 40px;
            width: 40px;
        }

        nav .menu {
            display: flex;
            align-items: center;
        }

        nav a {
            color: #fff;
            text-decoration: none;
            margin-left: 1.5rem;
            font-size: 1rem;
        }

        nav a:hover {
            text-decoration: underline;
        }

        .language-select {
            margin-left: 1.5rem;
            padding: 0.5rem;
            font-size: 1rem;
            border: none;
            border-radius: 5px;
        }

        /* Container Styles */
        .container {
            max-width: 1000px;
            margin: 2rem auto;
            background: #ffffff;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        .dark .container, .dark nav, .dark button {
            background: #000000;
        }

        .dark li {
            background: black;
        }

        h1, h2 {
            color: #4b3c6e;
        }

        ul {
            margin: 1rem 0;
            padding: 0;
            list-style: none;
        }

        ul li {
            margin: 0.5rem 0;
            padding: 1rem;
            background: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        a {
            color: #4b3c6e;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        footer {
            text-align: center;
            padding: 1rem 0;
            background: #4b3c6e;
            color: #fff;
        }

        footer p {
            margin: 0;
        }

        .btn {
            display: inline-block;
            background: #4b3c6e;
            color: #fff;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            text-decoration: none;
            font-size: 1rem;
            margin-top: 1rem;
        }

        .btn:hover {
            background: #3a2d58;
        }

        .language-select {
            margin-left: 2rem;
            background-color: #4b3c6e;
            color: #fff;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            cursor: pointer;
        }

        pre {
            position: relative;
            background: #ececec;
            padding: 1rem;
            border: 1px solid #ddd;
            border-radius: 5px;
            overflow-x: auto;
            margin-bottom: 1rem;
        }

        pre code {
            display: block;
        }

        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #4b3c6e;
            color: #fff;
            border: none;
            border-radius: 5px;
            padding: 0.5rem 1rem;
            cursor: pointer;
        }

        .copy-btn:hover {
            background: #3a2d58;
        }

        /* Hamburger Menu */
        .hamburger {
            display: none;
            flex-direction: column;
            cursor: pointer;
        }

        .hamburger div {
            background-color: #fff;
            height: 3px;
            width: 25px;
            margin: 3px 0;
        }

        .menu {
            display: flex;
        }

        .menu a, .menu .language-select {
            display: inline-block;
        }

        @media (max-width: 768px) {
            .hamburger {
                display: flex;
            }

            nav .menu {
                display: none;
                flex-direction: column;
                position: absolute;
                top: 70px;
                right: 10px;
                background: #986ce8;
                padding: 1rem;
                border-radius: 5px;
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            }

            .menu.active {
                display: flex;
            }

            .menu a {
                margin: 0.5rem 0;
            }

            .language-select {
                margin: 0.5rem 0;
            }

            .hamburger {
                order: 1; /* Keep hamburger on the right */
            }

            nav button {
                margin-right: 10px;
                order: 0; /* Move the theme toggle button first */
            }
        }

        .terminal {
            font-family: 'Courier New', monospace;
            background: #1e1e1e;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 255, 0, 0.5);
            font-size: 16px;
            line-height: 1.5;
            overflow: hidden;
            color: #00ff00;
            white-space: pre; /* Preserve spaces and tabs */
            margin: 10px 0;
        }
        .output {
            margin-top: 10px;
        }
        .command {
            color: #ffffff;
        }
        .blink {
            display: inline-block;
            width: 10px;
            background: #00ff00;
            animation: blink 1s steps(2, start) infinite;
        }
        @keyframes blink {
            50% { background: transparent; }
        }
        .highlight {
            color: #ffcc00;
        }
        .fade-in {
            opacity: 0;
            animation: fadeIn 1s forwards;
        }
        @keyframes fadeIn {
            to { opacity: 1; }
        }
        .urls a {
            color: #4caf50;
            text-decoration: none;
        }
        .urls a:hover {
            text-decoration: underline;
        }

        .dark {
            --background: #121212;
            --text: #f5f5f5;
        }

        .w-5 {
            width: 2.0rem;
        }
        .h-5 {
            height: 2.0rem;
        }

        .dark\:hidden:is(.dark *) {
            display: none;
        }

        .dark\:block:is(.dark *) {
            display: block;
        }

        .dark\:hover\:bg-white\/5:hover:is(.dark *) {
            background-color: hsla(0, 0%, 100%, .05);
        }

        .hover\:bg-zinc-900\/5:hover {
            background-color: rgba(24, 24, 27, .05);
        }

        .stroke-white {
            stroke: #fff;
        }

        .stroke-zinc-900 {
            stroke: #18181b;
        }

        .hidden {
            display: none;
        }

        .transition {
            transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;
            transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;
            transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;
            transition-timing-function: cubic-bezier(.4,0,.2,1);
            transition-duration: .15s;
        }
        .rounded-md {
            border: 0 solid;
            border-radius: .375rem;
        }
        .justify-center {
            justify-content: center;
        }
        .items-center {
            align-items: center;
        }
        .w-6 {
            width: 2.0rem;
        }
        .h-6 {
            height: 2.0rem;
        }
        .flex {
            display: flex;
        }
    </style>
</head>
<body>
<nav>
    <h1>
        <img src="https://avatars.githubusercontent.com/u/3723144?s=48&v=4" alt="tinystruct logo">
        tinystruct
    </h1>

    <div class="hamburger" onclick="toggleMenu()">
        <div></div>
        <div></div>
        <div></div>
    </div>
    <button type="button" class="flex h-6 w-6 items-center justify-center rounded-md transition hover:bg-zinc-900/5 dark:hover:bg-white/5" aria-label="Switch to light theme" onclick="toggleTheme()">
        <svg viewBox="0 0 20 20" fill="none" aria-hidden="true" class="h-5 w-5 stroke-zinc-900 dark:hidden">
            <path d="M12.5 10a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0Z"></path>
            <path stroke-linecap="round" d="M10 5.5v-1M13.182 6.818l.707-.707M14.5 10h1M13.182 13.182l.707.707M10 15.5v-1M6.11 13.889l.708-.707M4.5 10h1M6.11 6.111l.708.707"></path>
        </svg>
        <svg viewBox="0 0 20 20" fill="none" aria-hidden="true" class="hidden h-5 w-5 stroke-white dark:block">
            <path d="M15.224 11.724a5.5 5.5 0 0 1-6.949-6.949 5.5 5.5 0 1 0 6.949 6.949Z"></path>
        </svg>
    </button>
    <div class="menu">
        <a href="#about" class="lang" data-en="What is tinystruct?" data-fr="Qu'est-ce que tinystruct?" data-de="Was ist tinystruct?" data-zh="什么是 tinystruct?">What is tinystruct?</a>
        <a href="#features" class="lang" data-en="Features" data-fr="Caractéristiques" data-de="Funktionen" data-zh="特点">Features</a>
        <a href="#architecture" class="lang" data-en="Architecture" data-fr="Architecture" data-de="Architektur" data-zh="架构">Architecture</a>
        <a href="#use-cases" class="lang" data-en="Use Cases" data-fr="Cas d'utilisation" data-de="Anwendungsfälle" data-zh="用例">Use Cases</a>
        <a href="#installation" class="lang" data-en="Installation" data-fr="Installation" data-de="Installation" data-zh="安装">Installation</a>
        <a href="#" id="docs-link" class="lang" data-en="Documentation" data-fr="Documentation" data-de="Dokumentation" data-zh="文档">Documentation</a>
        <select class="language-select" onchange="changeLanguage(this.value)">
            <option value="en">English</option>
            <option value="fr">Français</option>
            <option value="de">Deutsch</option>
            <option value="zh">中文</option>
        </select>

        <a href="https://github.com/tinystruct/tinystruct" target="_blank" class="github-star" title="Star tinystruct on GitHub">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true" width="16" height="16">
                <path d="M12 .587l3.668 7.435 8.2 1.19-5.934 5.787 1.4 8.169L12 18.896l-7.334 3.872 1.4-8.169L.132 9.212l8.2-1.19L12 .587z"/>
            </svg>
            Star us on Github
        </a>

    </div>
</nav>
<div class="container" id="about">
    <h2 class="lang" data-en="What is tinystruct?" data-fr="Qu'est-ce que tinystruct?" data-de="Was ist tinystruct?" data-zh="什么是 tinystruct?">What is tinystruct?</h2>
    <div class="intro lang" data-en="tinystruct is a lightweight Java application framework designed for building applications from command-line tools to web applications. Its core concept is 'write once, run anywhere', achieving code reuse between command-line and web environments through a unified Action mechanism." data-fr="tinystruct est un framework Java léger conçu pour construire des applications allant des outils en ligne de commande aux applications Web. Son concept central est 'écrire une fois, exécuter partout', réalisant la réutilisation du code entre les environnements en ligne de commande et Web grâce à un mécanisme Action unifié." data-de="tinystruct ist ein leichtgewichtiges Java-Anwendungsframework, das für die Entwicklung von Anwendungen von Befehlszeilentools bis hin zu Webanwendungen konzipiert wurde. Sein Kernkonzept ist 'einmal schreiben, überall ausführen' und erreicht Code-Wiederverwendung zwischen Befehlszeilen- und Web-Umgebungen durch einen einheitlichen Action-Mechanismus." data-zh="tinystruct 是一个轻量级 Java 应用框架，设计用于构建从命令行工具到 Web 应用的各种应用程序。它的核心理念是'编写一次，随处运行'，通过统一的 Action 机制实现命令行和 Web 环境下的代码复用。">
        tinystruct is a lightweight Java application framework designed for building applications from command-line tools to web applications. Its core concept is 'write once, run anywhere', achieving code reuse between command-line and web environments through a unified Action mechanism.
    </div>

    <div class="terminal" id="terminal-main"><div id="output-main"></div><div class="blink" id="cursor-main"></div></div>
    <h2 class="lang" data-en="Why Choose tinystruct?" data-fr="Pourquoi choisir tinystruct?" data-de="Warum tinystruct wählen?" data-zh="为什么选择 tinystruct?">Why Choose tinystruct?</h2>
    <p class="lang" data-en="tinystruct focuses on reducing unnecessary complexity in application development. Its lightweight, modular nature makes it an excellent choice for developers looking for a straightforward, efficient framework for various Java-based projects." data-fr="tinystruct se concentre sur la réduction de la complexité inutile dans le développement d'applications. Sa nature légère et modulaire en fait un excellent choix pour les développeurs à la recherche d'un cadre simple et efficace pour divers projets basés sur Java." data-de="tinystruct konzentriert sich darauf, unnötige Komplexität in der Anwendungsentwicklung zu reduzieren. Seine leichte, modulare Natur macht es zu einer ausgezeichneten Wahl für Entwickler, die nach einem einfachen, effizienten Framework für verschiedene Java-basierte Projekte suchen." data-zh="tinystruct 专注于减少应用程序开发中的不必要复杂性。其轻量级、模块化的特性使其成为开发人员在寻找简洁高效的 Java 项目框架时的理想选择。">tinystruct focuses on reducing unnecessary complexity in application development. Its lightweight, modular nature makes it an excellent choice for developers looking for a straightforward, efficient framework for various Java-based projects.</p>

    <h2 id="features" class="lang" data-en="Key Features" data-fr="Caractéristiques principales" data-de="Kernfunktionen" data-zh="核心特性">Key Features</h2>
    <ul>
        <li class="lang" data-en="Unified Method Call Mechanism: Support both command-line and web service calls through @Action annotation." data-fr="Mécanisme d'appel de méthode unifié : Support des appels en ligne de commande et des services Web via l'annotation @Action." data-de="Einheitlicher Methodenaufruf-Mechanismus: Unterstützung von Befehlszeilen- und Web-Service-Aufrufen durch @Action-Annotation." data-zh="统一的方法调用机制：通过 @Action 注解支持命令行和 Web 服务调用。">Unified Method Call Mechanism: Support both command-line and web service calls through @Action annotation.</li>
        <li class="lang" data-en="Low Latency Service Call: Direct method invocation between services without network overhead." data-fr="Appel de service à faible latence : Invocation directe de méthodes entre services sans surcharge réseau." data-de="Niedrige Latenz-Serviceaufrufe: Direkte Methodenaufrufe zwischen Diensten ohne Netzwerkaufwand." data-zh="低延迟服务调用：服务间直接方法调用，无网络开销。">Low Latency Service Call: Direct method invocation between services without network overhead.</li>
        <li class="lang" data-en="Lightweight Design: Small core library with minimal external dependencies." data-fr="Conception légère : Petite bibliothèque centrale avec des dépendances externes minimales." data-de="Leichtgewichtiges Design: Kleine Kernbibliothek mit minimalen externen Abhängigkeiten." data-zh="轻量级设计：核心库体积小，外部依赖少。">Lightweight Design: Small core library with minimal external dependencies.</li>
        <li class="lang" data-en="Flexible Deployment Options: Support for monolithic, microservices, and hybrid deployment modes." data-fr="Options de déploiement flexibles : Support des modes de déploiement monolithique, microservices et hybride." data-de="Flexible Bereitstellungsoptionen: Unterstützung für monolithische, Microservices- und hybride Bereitstellungsmodi." data-zh="灵活的部署选项：支持单体、微服务和混合部署模式。">Flexible Deployment Options: Support for monolithic, microservices, and hybrid deployment modes.</li>
    </ul>

    <h2 id="architecture" class="lang" data-en="Architecture" data-fr="Architecture" data-de="Architektur" data-zh="架构">Architecture</h2>
    <p class="lang" data-en="tinystruct follows a modular, action-oriented architecture that enables code reuse between command-line applications and web services. The framework provides a unified interface through the @Action annotation mechanism, allowing developers to write code once and run it anywhere." data-fr="tinystruct suit une architecture modulaire, orientée action qui permet la réutilisation du code entre les applications en ligne de commande et les services Web. Le framework fournit une interface unifiée grâce au mécanisme d'annotation @Action, permettant aux développeurs d'écrire le code une fois et de l'exécuter partout." data-de="tinystruct folgt einer modularen, aktionsorientierten Architektur, die die Wiederverwendung von Code zwischen Befehlszeilenanwendungen und Webdiensten ermöglicht. Das Framework bietet eine einheitliche Schnittstelle durch den @Action-Annotationsmechanismus, der es Entwicklern ermöglicht, Code einmal zu schreiben und überall auszuführen." data-zh="tinystruct 遵循模块化、面向动作的架构，实现命令行应用程序和 Web 服务之间的代码复用。该框架通过 @Action 注解机制提供统一接口，允许开发人员一次编写代码，随处运行。">tinystruct follows a modular, action-oriented architecture that enables code reuse between command-line applications and web services. The framework provides a unified interface through the @Action annotation mechanism, allowing developers to write code once and run it anywhere.</p>
    <div class="architecture-image" style="text-align: center; margin: 20px 0;">
        <img src="architecture.gif" alt="tinystruct Architecture" style="max-width: 100%; height: auto; border-radius: 8px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);">
    </div>
    <p class="lang" data-en="The diagram above illustrates how tinystruct allows applications to be accessed through both web services and command-line interfaces using the same underlying code. This architecture promotes code reusability, maintainability, and flexibility in deployment options." data-fr="Le diagramme ci-dessus illustre comment tinystruct permet aux applications d'être accessibles à la fois via des services Web et des interfaces en ligne de commande en utilisant le même code sous-jacent. Cette architecture favorise la réutilisabilité du code, la maintenabilité et la flexibilité des options de déploiement." data-de="Das obige Diagramm veranschaulicht, wie tinystruct es ermöglicht, auf Anwendungen sowohl über Webdienste als auch über Befehlszeilenschnittstellen mit demselben zugrunde liegenden Code zuzugreifen. Diese Architektur fördert die Wiederverwendbarkeit von Code, die Wartbarkeit und die Flexibilität bei den Bereitstellungsoptionen." data-zh="上图说明了 tinystruct 如何允许应用程序使用相同的底层代码通过 Web 服务和命令行界面访问。这种架构促进了代码的可重用性、可维护性和部署选项的灵活性。">The diagram above illustrates how tinystruct allows applications to be accessed through both web services and command-line interfaces using the same underlying code. This architecture promotes code reusability, maintainability, and flexibility in deployment options.</p>

    <h2 id="use-cases" class="lang" data-en="Best Use Cases and Their Benefits" data-fr="Meilleurs cas d'utilisation et leurs avantages" data-de="Beste Anwendungsfälle und deren Vorteile" data-zh="最佳用例及其优势">Best Use Cases and Their Benefits</h2>
    <ul>
        <li class="lang" data-en="Lightweight Web Applications: Perfect for small-scale websites needing speed and simplicity." data-fr="Applications web légères: Parfait pour les sites web à petite échelle nécessitant rapidité et simplicité." data-de="Leichte Webanwendungen: Ideal für kleine Websites, die Schnelligkeit und Einfachheit benötigen." data-zh="轻量级 Web 应用程序：非常适合需要速度和简单性的小型网站。">Lightweight Web Applications: Perfect for small-scale websites needing speed and simplicity.</li>
        <li class="lang" data-en="Command-Line Tools: Develop robust utilities with minimal overhead." data-fr="Outils en ligne de commande: Développez des utilitaires robustes avec un minimum de surcharge." data-de="CLI-Tools: Entwickeln Sie robuste Dienstprogramme mit minimalem Aufwand." data-zh="命令行工具：使用最小的开销开发强大的工具。">Command-Line Tools: Develop robust utilities with minimal overhead.</li>
        <li class="lang" data-en="Microservices: Modular design makes it ideal for specific, lightweight services." data-fr="Microservices: La conception modulaire le rend idéal pour des services spécifiques et légers." data-de="Mikrodienste: Modulares Design eignet sich hervorragend für spezifische, leichte Dienste." data-zh="微服务：模块化设计使其成为特定轻量服务的理想选择。">Microservices: Modular design makes it ideal for specific, lightweight services.</li>
        <li class="lang" data-en="Embedded Systems: Small memory footprint fits resource-constrained devices." data-fr="Systèmes embarqués: La petite empreinte mémoire convient aux appareils à ressources limitées." data-de="Eingebettete Systeme: Kleine Speichernutzung passt zu ressourcenbegrenzten Geräten." data-zh="嵌入式系统：小内存占用非常适合资源有限的设备。">Embedded Systems: Small memory footprint fits resource-constrained devices.</li>
        <li class="lang" data-en="Rapid Prototyping: Quickly iterate ideas with its simple setup." data-fr="Prototypage rapide: Itérez rapidement des idées avec une configuration simple." data-de="Schnelles Prototyping: Schnell Ideen mit einer einfachen Einrichtung iterieren." data-zh="快速原型开发：通过简单的设置快速迭代想法。">Rapid Prototyping: Quickly iterate ideas with its simple setup.</li>
    </ul>

    <h2 id="installation" class="lang" data-en="Installation and Getting Started" data-fr="Installation et démarrage" data-de="Installation und Einstieg" data-zh="安装和入门">Installation and Getting Started</h2>
    <p class="lang" data-en="Add the dependency into your pom.xml." data-fr="Ajoutez la dépendance dans votre fichier pom.xml." data-de="Fügen Sie die Abhängigkeit in Ihre pom.xml ein." data-zh="将以下 Maven 依赖项添加到您的项目中：">Add the dependency into your pom.xml.</p>
    <pre class="language-xml"><code>&lt;dependency&gt;
  &lt;groupId&gt;org.tinystruct&lt;/groupId&gt;
  &lt;artifactId&gt;tinystruct&lt;/artifactId&gt;
  &lt;version&gt;1.7.0&lt;/version&gt;
  &lt;classifier&gt;jar-with-dependencies&lt;/classifier&gt;
&lt;/dependency&gt;</code><button class="copy-btn" onclick="copyCode(this)">Copy</button>
</pre>

    <p class="lang" data-en="Extend the AbstractApplication in Java" data-fr="Étendez la classe AbstractApplication en Java" data-de="Erweitern Sie die AbstractApplication in Java" data-zh="在 Java 中扩展 AbstractApplication 类">Extend the AbstractApplication in Java</p>
    <pre class="language-java"><code>package tinystruct.examples;

import org.tinystruct.AbstractApplication;
import org.tinystruct.ApplicationException;
import org.tinystruct.system.annotation.Action;

public class example extends AbstractApplication {

    @Override
    public void init() {
        // TODO Auto-generated method stub
    }

    @Override
    public String version() {
        return "1.0";
    }

    @Action("praise")
    public String praise() {
        return "Praise the Lord!";
    }

    @Action("say")
    public String say() throws ApplicationException {
        if (null != getContext().getAttribute("--words"))
            return getContext().getAttribute("--words").toString();

        throw new ApplicationException("Could not find the parameter <i>words</i>.");
    }

    @Action("say")
    public String say(String words) {
        return words;
    }
}</code><button class="copy-btn" onclick="copyCode(this)">Copy</button>
</pre>


    <h2 class="context lang" data-en="Context and Parameter Processing" data-fr="Contexte et traitement des paramètres" data-de="Kontext- und Parameterverarbeitung" data-zh="上下文与参数处理">Context and Parameter Processing</h2>
    <pre><code class="language-java">@Action("process")
public String process() throws ApplicationException {
    // Get command line parameters from context
    if (null != getContext().getAttribute("--data")) {
        String data = getContext().getAttribute("--data").toString();
        return processData(data);
    }
    throw new ApplicationException("Missing required parameter: --data");
}</code></pre>

    <h2 class="examples lang" data-en="Application Examples" data-fr="Exemples d'applications" data-de="Anwendungsbeispiele" data-zh="应用示例">Application Examples</h2>
    <pre><code class="language-java">public class ExampleApp extends AbstractApplication {
    private static final EventDispatcher dispatcher = EventDispatcher.getInstance();

    static {
        dispatcher.registerHandler(InitEvent.class, handler ->
            System.out.println(handler.getPayload()));
    }

    @Override
    public void init() {
        // Trigger event on initialization
        dispatcher.dispatch(new InitEvent());
    }

    @Action("praise")
    public String praise() {
        return "Praise the Lord!";
    }

    @Action("say")
    public String say() throws ApplicationException {
        if (null != getContext().getAttribute("--words"))
            return getContext().getAttribute("--words").toString();
        throw new ApplicationException("Could not find the parameter <i>--words</i>.");
    }

    @Action("say")
    public String say(String words) {
        return words;
    }

    @Override
    public String version() {
        return "1.0";
    }
}</code></pre>

    <h2 class="config lang" data-en="Configuration Reference" data-fr="Référence de configuration" data-de="Konfigurationsreferenz" data-zh="配置参考">Configuration Reference</h2>
    <pre><code class="language-properties"># Database configuration
driver=org.h2.Driver
database.url=jdbc:h2:~/test
database.user=
database.password=
database.connections.max=10

# Default settings
default.file.encoding=UTF-8
default.home.page=say/Praise the Lord!
default.reload.mode=true
default.date.format=yyyy-MM-dd HH:mm:ss

# Error handling
default.error.process=false
default.error.page=error

# HTTP configuration
default.http.max_content_length = 4194304

# System directory
system.directory=

# Mail configuration
mail.smtp.host=
mail.pop3.host=
mail.smtp.port=
mail.pop3.port=
mail.smtp.auth=
mail.pop3.auth=
smtp.auth.user=
smtp.auth.pwd=

# Logging configuration
logging.override = !TRUE
handlers = java.util.logging.ConsoleHandler
java.util.logging.ConsoleHandler.level = FINE
java.util.logging.ConsoleHandler.formatter = org.apache.juli.OneLineFormatter
java.util.logging.ConsoleHandler.encoding = UTF-8
org.tinystruct.valve.Watcher$LockEventListener.level=WARNING

# MQTT configuration
mqtt.server.host=tcp://192.168.0.101
mqtt.server.port=1883

# MCP configuration
mcp.auth.token=123456</code></pre>

    <div class="terminal" id="terminal-secondary"><div id="output-secondary"></div><div class="blink" id="cursor-secondary"></div></div>

    <div class="links">
        <a href="https://github.com/tinystruct/tinystruct" class="btn" target="_blank">GitHub Repository</a>
        <a href="https://mvnrepository.com/artifact/org.tinystruct/tinystruct" class="btn" target="_blank">Maven Repository</a>
        <a href="#" id="docs-link-resources" class="btn">Documentation</a>
    </div>

    <h2 class="projects lang" data-en="Projects" data-fr="Projets" data-de="Projekte" data-zh="项目">Projects</h2>
    <ul>
        <li><a href="https://github.com/tinystruct/smalltalk">https://github.com/tinystruct/smalltalk</a></li>
        <li><a href="https://github.com/m0ver/bible-online">https://github.com/m0ver/bible-online</a></li>
    </ul>
</div>

<!-- Footer -->
<footer>
    <p class="lang" data-en="Created with by James ZHOU" data-fr="Créé avec par James ZHOU" data-de="Erstellt mit von James ZHOU" data-zh="创建者: James ZHOU">Created with by James ZHOU</p>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-java.min.js"></script>
<script>
    // Toggle Menu
    function toggleMenu() {
        const menu = document.querySelector('.menu');
        menu.classList.toggle('active');
    }

    // Change language based on user selection
    function changeLanguage(lang) {
        const elements = document.querySelectorAll('.lang');
        elements.forEach(element => {
            const translation = element.dataset[lang];
            if (translation) {
                element.innerHTML = translation;
            }
        });

        // Update documentation links based on selected language
        const docsLink = document.getElementById('docs-link');
        const docsLinkResources = document.getElementById('docs-link-resources');

        if (docsLink) {
            docsLink.href = '/' + lang + '/';
        }

        if (docsLinkResources) {
            docsLinkResources.href = '/' + lang + '/';
        }

        // Update URL fragment with selected language
        window.location.hash = lang;
    }

    // Check URL fragment for language code and apply it
    function applyLanguageFromURL() {
        const hash = window.location.hash.substring(1); // Get language code from the URL fragment
        const validLanguages = ['en', 'fr', 'de', 'zh']; // Define valid languages

        if (validLanguages.includes(hash)) {
            const select = document.querySelector('.language-select');
            select.value = hash;
            changeLanguage(hash); // Apply the language change
        }
    }

    // Initialize language based on URL or browser settings
    function initializeLanguage() {
        // Check URL fragment first
        applyLanguageFromURL();

        // If no language in URL, check browser language
        if (!window.location.hash) {
            const browserLang = navigator.language.split('-')[0];
            if (['en', 'fr', 'de', 'zh'].includes(browserLang)) {
                changeLanguage(browserLang);
            } else {
                changeLanguage('en'); // Default to English
            }
        }
    }

    // Add event listener to load language on page load
    window.addEventListener('DOMContentLoaded', initializeLanguage);
    // Copy Code Function
    function copyCode(button) {
        const codeBlock = button.previousElementSibling;
        navigator.clipboard.writeText(codeBlock.innerText)
            .then(() => {
                button.innerText = 'Copied!';
                setTimeout(() => {
                    button.innerText = 'Copy';
                }, 2000);
            })
            .catch(err => {
                console.error('Failed to copy code:', err);
            });
    }

    const mainCommands = [
        "$ bin/dispatcher --version",
        "  _/  '         _ _/  _     _ _/",
        "  /  /  /) (/ _)  /  /  (/ (  /  1.7.0",
        "           /",
        " ",
        "$ bin/dispatcher --help",
        "Usage: bin/dispatcher COMMAND [OPTIONS]",
        "Commands:",
        "  download             \tDownload a resource from other servers",
        "  exec                 \tTo execute native command(s)",
        "  generate             \tPOJO object generator",
        "  install              \tInstall a package",
        "  open                 \tStart a default browser to open the specific URL",
        "  say                  \tOutput words",
        "  set                  \tSet system property",
        "  sql-execute          \tExecutes the given SQL statement, which may be an INSERT, UPDATE, DELETE, or DDL statement",
        "  sql-query            \tExecutes the given SQL statement, which returns a single ResultSet object",
        "  update               \tUpdate for the latest version",
        " ",
        "Options:",
        "  --allow-remote-access\tAllow to be accessed remotely",
        "  --help               \tHelp command",
        "  --host               \tHost name / IP",
        "  --import             \tImport application",
        "  --logo               \tPrint logo",
        "  --settings           \tPrint settings",
        "  --version            \tPrint version",
        " ",
        "Run 'bin/dispatcher COMMAND --help' for more information on a command."
    ];

    const secondaryCommands = [
        "$ bin/dispatcher say --words Hello --import tinystruct.examples.example",
        "Hello",
        " ",
        "# bin/dispatcher start --import org.tinystruct.system.NettyHttpServer --server-port 777",
        " ",
        "  _/  '         _ _/  _     _ _/",
        "  /  /  /) (/ _)  /  /  (/ (  /  1.7.0",
        "           /",
        " ",
        `${new Date().toLocaleString()} org.tinystruct.system.NettyHttpServer start`,
        "INFO: Netty server (777) startup in 30 ms"
    ];

    const outputMain = document.getElementById('output-main');
    const cursorMain = document.getElementById('cursor-main');
    const outputSecondary = document.getElementById('output-secondary');
    const cursorSecondary = document.getElementById('cursor-secondary');

    let iMain = 0;
    let iSecondary = 0;

    function typeMainCommands() {
        if (iMain < mainCommands.length) {
            const line = mainCommands[iMain];
            const textDiv = document.createElement('div');
            textDiv.textContent = line;
            textDiv.classList.add('fade-in');
            outputMain.appendChild(textDiv);
            iMain++;
            setTimeout(typeMainCommands, 100);
        } else {
            cursorMain.style.display = 'none';
            typeSecondaryCommands();
        }
    }

    function typeSecondaryCommands() {
        if (iSecondary < secondaryCommands.length) {
            const line = secondaryCommands[iSecondary];
            const textDiv = document.createElement('div');
            textDiv.textContent = line;
            textDiv.classList.add('fade-in');
            outputSecondary.appendChild(textDiv);
            iSecondary++;
            setTimeout(typeSecondaryCommands, 100);
        } else {
            cursorSecondary.style.display = 'none';
        }
    }

    typeMainCommands();

    // Check if DeviceMotion is supported
/*    if (window.DeviceMotionEvent) {
        console.log("DeviceMotion is supported on this device.");

        // Add an event listener for device motion
        window.addEventListener('devicemotion', function(event) {
            const acceleration = event.accelerationIncludingGravity;

            if (acceleration) {
                const x = acceleration.x || 0;
                const y = acceleration.y || 0;
                const z = acceleration.z || 0;

                // Normalize the acceleration values
                const red = Math.min(Math.abs(x * 50), 255);
                const green = Math.min(Math.abs(y * 50), 255);
                const blue = Math.min(Math.abs(z * 50), 255);

                // Create a dynamic RGB color
                const backgroundColor = `rgb(${Math.floor(red)}, ${Math.floor(green)}, ${Math.floor(blue)})`;

                // Apply the color to the website background
                document.body.style.backgroundColor = backgroundColor;

                // Optionally, display the RGB values on the page
                if (!document.getElementById('motionInfo')) {
                    const infoDiv = document.createElement('div');
                    infoDiv.id = 'motionInfo';
                    infoDiv.style.position = 'fixed';
                    infoDiv.style.bottom = '10px';
                    infoDiv.style.left = '10px';
                    infoDiv.style.padding = '5px';
                    infoDiv.style.backgroundColor = 'rgba(255, 255, 255, 0.7)';
                    infoDiv.style.borderRadius = '5px';
                    infoDiv.style.fontFamily = 'Arial, sans-serif';
                    infoDiv.style.color = '#000';
                    document.body.appendChild(infoDiv);
                }

                const infoDiv = document.getElementById('motionInfo');
                infoDiv.textContent = `R: ${Math.floor(red)} G: ${Math.floor(green)} B: ${Math.floor(blue)}`;
            }
        });
    } else {
        console.log("DeviceMotion is not supported on this device.");
        alert("Your device does not support DeviceMotion.");
    }*/

    function toggleTheme() {
        // Toggle the 'dark' class on the <html> element
        document.documentElement.classList.toggle('dark');
        // Optionally save the current theme to localStorage for persistence
        const isDark = document.documentElement.classList.contains('dark');
        localStorage.setItem('theme', isDark ? 'dark' : 'light');
    }

    // Initialize theme on page load
    document.addEventListener('DOMContentLoaded', () => {
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme === 'dark') {
            document.documentElement.classList.add('dark');
        }
    });

    const translations = {
        en: {
            title: "tinystruct framework",
            intro: "tinystruct is a lightweight Java application framework designed for building applications from command-line tools to web applications. Its core concept is 'write once, run anywhere', achieving code reuse between command-line and web environments through a unified Action mechanism.",
            features: "Core Features",
            unifiedCall: "Unified Method Call Mechanism",
            lowLatency: "Low Latency Service Call",
            lightweight: "Lightweight Design",
            deployment: "Flexible Deployment Options",
            architecture: "Architecture",
            architectureIntro: "Framework architecture overview",
            action: "Action Mechanism",
            server: "Server Implementation",
            modular: "Modular Design",
            event: "Event-Driven Mechanism",
            context: "Context and Parameter Processing",
            examples: "Application Examples",
            config: "Configuration Reference",
            tomcatServer: "TomcatServer",
            nettyServer: "NettyHttpServer",
            serverGuide: "Server Selection Guide",
            tomcatFeatures: "TomcatServer Features",
            nettyFeatures: "NettyHttpServer Features",
            tomcatScenarios: "TomcatServer Use Cases",
            nettyScenarios: "NettyHttpServer Use Cases"
        },
        fr: {
            title: "framework tinystruct",
            intro: "tinystruct est un framework Java léger conçu pour construire des applications allant des outils en ligne de commande aux applications Web. Son concept central est 'écrire une fois, exécuter partout', réalisant la réutilisation du code entre les environnements en ligne de commande et Web grâce à un mécanisme Action unifié.",
            features: "Caractéristiques principales",
            unifiedCall: "Mécanisme d'appel de méthode unifié",
            lowLatency: "Appel de service à faible latence",
            lightweight: "Conception légère",
            deployment: "Options de déploiement flexibles",
            architecture: "Architecture",
            architectureIntro: "Aperçu de l'architecture du framework",
            action: "Mécanisme Action",
            server: "Implémentation du serveur",
            modular: "Conception modulaire",
            event: "Mécanisme piloté par événements",
            context: "Contexte et traitement des paramètres",
            examples: "Exemples d'applications",
            config: "Référence de configuration",
            tomcatServer: "TomcatServer",
            nettyServer: "NettyHttpServer",
            serverGuide: "Guide de sélection du serveur",
            tomcatFeatures: "Caractéristiques de TomcatServer",
            nettyFeatures: "Caractéristiques de NettyHttpServer",
            tomcatScenarios: "Cas d'utilisation de TomcatServer",
            nettyScenarios: "Cas d'utilisation de NettyHttpServer"
        },
        de: {
            title: "tinystruct Framework",
            intro: "tinystruct ist ein leichtgewichtiges Java-Anwendungsframework, das für die Entwicklung von Anwendungen von Befehlszeilentools bis hin zu Webanwendungen konzipiert wurde. Sein Kernkonzept ist 'einmal schreiben, überall ausführen' und erreicht Code-Wiederverwendung zwischen Befehlszeilen- und Web-Umgebungen durch einen einheitlichen Action-Mechanismus.",
            features: "Kernfunktionen",
            unifiedCall: "Einheitlicher Methodenaufruf-Mechanismus",
            lowLatency: "Niedrige Latenz-Serviceaufrufe",
            lightweight: "Leichtgewichtiges Design",
            deployment: "Flexible Bereitstellungsoptionen",
            architecture: "Architektur",
            architectureIntro: "Überblick über die Framework-Architektur",
            action: "Action-Mechanismus",
            server: "Server-Implementierung",
            modular: "Modulares Design",
            event: "Ereignisgesteuerter Mechanismus",
            context: "Kontext- und Parameterverarbeitung",
            examples: "Anwendungsbeispiele",
            config: "Konfigurationsreferenz",
            tomcatServer: "TomcatServer",
            nettyServer: "NettyHttpServer",
            serverGuide: "Server-Auswahlführer",
            tomcatFeatures: "TomcatServer-Funktionen",
            nettyFeatures: "NettyHttpServer-Funktionen",
            tomcatScenarios: "TomcatServer-Anwendungsfälle",
            nettyScenarios: "NettyHttpServer-Anwendungsfälle"
        },
        zh: {
            title: "tinystruct 框架",
            intro: "tinystruct 是一个轻量级 Java 应用框架，设计用于构建从命令行工具到 Web 应用的各种应用程序。它的核心理念是'编写一次，随处运行'，通过统一的 Action 机制实现命令行和 Web 环境下的代码复用。",
            features: "核心特性",
            unifiedCall: "统一的方法调用机制",
            lowLatency: "低延迟服务调用",
            lightweight: "轻量级设计",
            deployment: "灵活的部署选项",
            architecture: "架构",
            architectureIntro: "框架架构概览",
            action: "Action 机制",
            server: "服务器实现",
            modular: "模块化设计",
            event: "事件驱动机制",
            context: "上下文与参数处理",
            examples: "应用示例",
            config: "配置参考",
            tomcatServer: "TomcatServer",
            nettyServer: "NettyHttpServer",
            serverGuide: "服务器选择指南",
            tomcatFeatures: "TomcatServer 特点",
            nettyFeatures: "NettyHttpServer 特点",
            tomcatScenarios: "TomcatServer 适用场景",
            nettyScenarios: "NettyHttpServer 适用场景"
        }
    };

</script>
</body>
</html>
